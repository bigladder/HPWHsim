<!doctype html>

<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>HPWH analysis</title>

	<style>
		body {
			font-family: Arial;
		}

		.collapsible {
			background-color: #777;
			color: white;
			cursor: pointer;
			padding: 18px;
			width: 100%;
			border: none;
			text-align: left;
			outline: none;
			font-size: 15px;
		}

		.active,
		.collapsible:hover {
			background-color: #555;
		}

		.content {
			padding: 0 18px;
			max-height: 0;
			overflow: hidden;
			transition: max-height 0.2s ease-out;
			background-color: #f1f1f1;
		}

		table, th, td {
		  border: 1px solid black;
		  border-collapse: collapse;
		}
		th, td {
		  padding-top: 10px;
		  padding-bottom: 10px;
		  padding-left: 10px;
		  padding-right: 10px;
		}
	</style>

</head>

<body>
	<script src="main.js"></script>

	<!-- model -->
	<form id="model_form">
		<label for="model_id">model:</label>
		<select name="model_id" id="model_id" style="width: 400px" onchange="change_menu_value();">
		</select><br><br>
	</form>

	<!-- build dir -->
	<form id="build_form">
		<label for="build_dir">build directory:</label>
		<input type="text" id="build_dir" name="build_dir" style="width: 400px" required><br><br>
	</form>

	<!-- Properties -->
	<button id="properties_tab" class="collapsible">Properties</button>
	<div class="content">
		<table>
		<tr>
			<td>
				<table id="general_table"></table>
			</td>
		</tr>

		<tr>
			<td>
				<table id="tank_table"></table>
			</td><br>
		</tr>

		<tr>
			<td>
				<label for="heat_source">heat source:</label>
				<select name="heat_source" id="heat_source" style="width: 400px" onchange="change_menu_value();">
				</select><br><br>
				<table id="heat_source_table"></table>
			</td>
		</tr>

		</table>
		<br>
	</div>

	<!-- Performance -->
	<button id="perf_tab" class="collapsible">Performance</button>
	<div class="content">
		<form id="perf_form">
			<button type="button" id="perf_btn" onclick="launch_perf_proc();">show</button>
		</form>

		<div id="perf_plot_div">
			<iframe title="perf_plot" src="" id="perf_plot" width=1200 height=1200 style="display:none;"></iframe>
		</div>
	</div>

	<!-- Test -->
	<button id="test_tab" class="collapsible">Test</button>
	<div class="content">
		<form id="test_form">

			<select name="test_list" id="test_list" style="width: 200px" onchange="change_menu_value();">
				<option selected="All tests" value="All tests">All tests</option>
				<option value="Tests with data">Tests with data</option>
				<option value="Standard tests">Standard tests</option>
			</select><br><br>

			<label for="test_name">test name:</label>
			<select name="test_name" id="test_name" style="width: 400px" onchange="change_menu_value();">
			</select><br><br>

			<label for="draw_profile">draw profile:</label>
			<select name="draw_profile" id="draw_profile" onchange="change_menu_value();">
				<option selected="auto" value="auto">auto</option>
				<option value="High">High</option>
				<option value="Medium">Medium</option>
				<option value="Low">Low</option>
				<option value="VerySmall">Very Small</option>
			</select><br><br>

			<button type="button" id="test_btn" onclick="launch_test_proc();">show</button>
		</form>

		<iframe title="plots" src="" id="test_plot" width=1200 height=1000 style="display:none;"></iframe>

		<p "" id="measure_results" width=800 height=1800 style="display:none;"></object>
	</div>

	<!-- Fitting -->
	<button id="fit_tab" class="collapsible">Fitting</button>
	<div class="content">
		<button type="button" id="fit_btn" onclick="launch_fit_proc();">fit</button>
		<button type="button" id="clear_params_btn" onclick="clear_params();">clear params</button>
		<button type="button" id="clear_metrics_btn" onclick="clear_metrics();">clear metrics</button>
		<table>
		<tr>
			<td>
				<table id="params_table"></table>
			</td>

			<td padding="30px">
				<table id="metrics_table"></table>
			</td>
		</tr>
		</table>
		<br>
	</div>

	<script>
		var coll = document.getElementsByClassName("collapsible");
		var i;

		for (i = 0; i < coll.length; i++) {
			coll[i].addEventListener("click", function () {
				this.classList.toggle("active");
				var content = this.nextElementSibling;
				if (content.style.maxHeight) {
					content.style.maxHeight = null;
				} else {
					if (this.id == "properties_tab")
						content.style.maxHeight = "1100px";
					else if (this.id == "test_tab")
						content.style.maxHeight = "2200px";
					else if (this.id == "fit_tab")
						content.style.maxHeight = "1200px";
					else if (this.id == "perf_tab")
						content.style.maxHeight = "1400px";
				}
			});
		}
	</script>

</body>

<script>
	init_all().then({}, {})
	//init_elements().then({}, {})
	//FillFitTables().then({}, {})
	//FillPropertiesTables().then({}, {})
</script>

</html>