<!doctype html>

<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>HPWH analysis</title>

	<style>
		body {
			font-family: Arial;
		}

		.collapsible {
			background-color: #777;
			color: white;
			cursor: pointer;
			padding: 18px;
			width: 100%;
			border: none;
			text-align: left;
			outline: none;
			font-size: 15px;
		}

		.active,
		.collapsible:hover {
			background-color: #555;
		}

		.content {
			padding: 0 18px;
			max-height: 0;
			overflow: hidden;
			transition: max-height 0.2s ease-out;
			background-color: #f1f1f1;
		}
	</style>

</head>

<body>
	<script src="main.js"></script>

	<!-- content -->
	<form id="model_form">
		<label for="model_name">model name:</label>
		<select name="model_name" id="model_name" style="width: 400px" onchange="change_menu_value();">
		</select><br><br>

		<label for="model_spec">model spec:</label>
		<select name="model_spec" id="model_spec" style="width: 150px" onchange="change_menu_value();">
			<option selected="selected" value="File">File</option>
			<option value="Preset">Preset</option>
			<option value="JSON">JSON</option>
		</select><br><br>
	</form>

	<!-- content -->
	<form id="build_form">
		<label for="build_dir">build directory:</label>
		<input type="text" id="build_dir" name="build_dir" style="width: 400px" required><br><br>
	</form>

	<!-- content -->
	<button id="perf_tab" class="collapsible">Performance</button>
	<div class="content">
		<form id="perf_form">
			<button type="button" id="perf_btn" onclick="launch_perf_proc();">show</button>
		</form>

		<iframe title="perf_plot" src="" id="perf_plot" width=1200 height=1200 style="display:none;"></iframe>
	</div>

	<!-- content -->
	<button id="test_tab" class="collapsible">Test</button>
	<div class="content">
		<form id="test_form">

			<select name="test_list" id="test_list" style="width: 200px" onchange="change_menu_value();">
				<option selected="All tests" value="All tests">All tests</option>
				<option value="Tests with data">Tests with data</option>
				<option value="Standard tests">Standard tests</option>
			</select><br><br>

			<label for="test_name">test name:</label>
			<select name="test_name" id="test_name" style="width: 400px" onchange="change_menu_value();">
			</select><br><br>

			<label for="show_simulated">show simulated</label>
			<input type="checkbox" id="show_simulated" style="width: 200px" onchange="change_menu_value();">
			</select><br><br>

			<label for="show_measured">show measured</label>
			<input type="checkbox" id="show_measured" style="width: 200px" onchange="change_menu_value();">
			</select><br><br>

			<label for="draw_profile">draw profile:</label>
			<select name="draw_profile" id="draw_profile" onchange="change_menu_value();">
				<option selected="auto" value="auto">auto</option>
				<option value="High">High</option>
				<option value="Medium">Medium</option>
				<option value="Low">Low</option>
				<option value="VerySmall">Very Small</option>
			</select><br><br>

			<button type="button" id="test_btn" onclick="launch_test_proc();">test</button>
		</form>

		<iframe title="plots" src="" id="plots" width=1200 height=1000 style="display:none;"></iframe>

		<p id="energy_measured"></p>
		<p id="energy_simulated"></p>

		<object id="measure_results" data="" width=800 height=1800 style="display:none;"></object>

	</div>

	<script>
		var coll = document.getElementsByClassName("collapsible");
		var i;

		for (i = 0; i < coll.length; i++) {
			coll[i].addEventListener("click", function () {
				this.classList.toggle("active");
				var content = this.nextElementSibling;
				if (content.style.maxHeight) {
					content.style.maxHeight = null;
				} else {
					if (this.id == "test_tab")
						content.style.maxHeight = "2200px";
					else if (this.id == "measure_tab")
						content.style.maxHeight = "320px";
					else if (this.id == "perf_tab")
						content.style.maxHeight = "1400px";
				}
			});
		}
	</script>

</body>

<script>
	init_elements().then({}, {})
	init_websocket().then({}, {})
</script>

</html>